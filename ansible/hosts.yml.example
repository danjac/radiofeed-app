all:
  children:
    server:
      hosts:
        123.456.78.910:
          private_ip: 10.0.0.1
          hostname: server
          role: server
    agents:
      hosts:
        123.456.78.911:
          hostname: database
          role: database
        123.456.78.912:
          hostname: jobrunner
          role: jobrunner
        123.456.78.913:
          hostname: webapp-1
          role: webapp
        123.456.78.914:
          hostname: webapp-2
          role: webapp
  vars:
    domain: "myapp.com"
    k3s_deploy_admin_url: "my-admin/"
    k3s_deploy_admins: "admin@gmail.com"
    k3s_deploy_contact_email: "contact@gmail.com"
    k3s_deploy_mailgun_api_key: ""
    k3s_deploy_mailgun_api_url: "https://api.eu.mailgun.net/v3"
    k3s_deploy_postgres_volume: "/mnt/HC_Volume_104566943"  # Path to mounted block storage volume on database node
    k3s_deploy_postgres_password: dbpasswd
    k3s_deploy_pwa_sha256_fingerprints: ""
    k3s_deploy_secret_key: seekrit1
    k3s_deploy_secret_key_fallbacks: "seekrit2,seekrit3"
    k3s_deploy_sentry_url: "https://xxxx.ingest.us.sentry.io/xxxxx"
    # When the observability stack is deployed, set this to the OTel gateway base URL (no path):
    k3s_deploy_open_telemetry_url: "http://otel-gateway.default.svc.cluster.local:4318"
    # cron_schedules_override:
    #  send_episode_updates: "10 10 * * 3"

    # OpenTelemetry observability stack
    # Grafana admin password (required) — use a strong password
    k3s_observability_grafana_password: ""
    # Subdomain for Grafana UI — requires DNS record grafana.<domain> → server public IP
    # and Cloudflare origin cert covering *.<domain>
    k3s_observability_grafana_subdomain: "grafana"
