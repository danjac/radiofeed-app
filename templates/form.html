{% with action=action|default:request.path method="post" %}
  <form {% render_attrs attrs class="space-y-6" %}
        action="{{ action }}"
        method="{{ method }}"
        {% if htmx %}
          id="{{ target }}"
          hx-{{ method }}="{{ action }}"
          hx-disabled-elt="this"
          hx-swap="{{ hx_swap|default:'morphdom' }}"
          hx-target="{{ hx_target|default:'this' }}"
          hx-validate="true"
        {% elif hx_disable %}
          hx-disable="true"
        {% endif %}
        {% if multipart %}
          enctype="multipart/form-data"
          {% if htmx %}
            hx-encoding="multipart/form-data"
          {% endif %}
        {% endif %}
  >
    {% csrf_token %}
    {{ content }}
  </form>
{% endwith %}

{% partialdef buttons %}
  <div class="flex flex-wrap items-center space-x-3">
    {{ content }}
  </div>
{% endpartialdef %}
