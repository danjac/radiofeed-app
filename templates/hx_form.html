{% with action=action|default:request.path %}
    <form class="space-y-3"
          id="{{ target }}"
          action="{{ action }}"
          hx-post="{{ action }}"
          hx-target="this"
          hx-swap="{{ hx_swap|default:'outerHTML' }}"
          {% if multipart %}
              enctype="multipart/form-data"
              hx-encoding="multipart/form-data"
          {% endif %}>
        {% csrf_token %}
        {{ content }}
    </form>
{% endwith %}
